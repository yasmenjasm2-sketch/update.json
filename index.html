<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #0f2027, #203a43, #2c5364); color: white; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .login-card { background: rgba(30, 30, 30, 0.9); padding: 30px; border-radius: 15px; box-shadow: 0 10px 40px rgba(0,0,0,0.8); width: 320px; text-align: center; border: 1px solid #444; }
        input { width: 100%; padding: 12px; margin: 15px 0; border-radius: 8px; border: 1px solid #555; background: #222; color: #00e676; box-sizing: border-box; text-align: center; font-family: monospace; font-size: 16px; font-weight: bold; letter-spacing: 1px; }
        input:focus { outline: none; border-color: #00e676; }
        button { width: 100%; padding: 12px; background: #00e676; border: none; border-radius: 8px; color: #000; font-weight: bold; cursor: pointer; transition: 0.3s; font-size: 16px; margin-bottom: 10px; }
        button:hover { background: #00c853; box-shadow: 0 0 10px #00e676; }
        .whatsapp-btn { background: #25D366; color: white; text-decoration: none; display: block; padding: 12px; border-radius: 8px; font-weight: bold; font-size: 14px; transition: 0.3s; margin-top: 10px; }
        .whatsapp-btn:hover { background: #128C7E; box-shadow: 0 0 10px #25D366; }
        .error { color: #ff5252; font-size: 14px; margin-top: 10px; display: none; border: 1px solid #ff5252; padding: 5px; border-radius: 5px; background: rgba(255, 82, 82, 0.1); }
        .device-info { font-size: 11px; color: #888; margin-top: 15px; }
    </style>
</head>
<body>

<div class="login-card">
    <h2>ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ</h2>
    <p style="font-size: 13px; color: #ccc;">ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙˆØ¯ Ø§Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ</p>
    
    <input type="text" id="subCode" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯ Ù‡Ù†Ø§">
    <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
    
    <a href="https://wsend.co/905424678123" class="whatsapp-btn" target="_blank">ğŸ’¬ Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ / Ø´Ø±Ø§Ø¡ Ø§Ø´ØªØ±Ø§Ùƒ</a>
    
    <div id="error" class="error">Ø§Ù„ÙƒÙˆØ¯ ØºÙŠØ± ØµØ­ÙŠØ­ØŒ Ù…Ù†ØªÙ‡ÙŠØŒ Ø£Ùˆ Ù…Ø­Ø¸ÙˆØ±!</div>
    
    <div class="device-info" id="deviceDisplay">Ø¬Ø§Ø±ÙŠ Ø¬Ù„Ø¨ Ø¨ØµÙ…Ø© Ø§Ù„Ù‡Ø§ØªÙ...</div>
</div>

<script>
    // ==========================================
    // Ù…Ù†Ø·Ù‚Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø·ÙˆØ±
    // ==========================================
    const REQUIRED_APP_VERSION = "3.0.1"; 
    const DEVELOPER_LINK = "https://wsend.co/905424678123"; // Ø±Ø§Ø¨Ø· Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ Ù„Ù„Ø¯Ø¹Ù… ÙˆÙÙƒ Ø§Ù„Ø­Ø¸Ø±

    // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø¨ØµÙ…Ø© Ø§Ù„Ù‡Ø§ØªÙ (Device ID) Ø§Ù„ØªÙŠ ÙŠØ±Ø³Ù„Ù‡Ø§ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    const urlParams = new URLSearchParams(window.location.search);
    const appDeviceId = urlParams.get('device_id') || "UNKNOWN";
    
    // Ø¹Ø±Ø¶ Ø¨ØµÙ…Ø© Ø§Ù„Ù‡Ø§ØªÙ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
    document.getElementById('deviceDisplay').innerText = "Ø¨ØµÙ…Ø© Ø¬Ù‡Ø§Ø²Ùƒ: " + appDeviceId;

    // ==========================================
    // Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£ÙƒÙˆØ§Ø¯
    // Ø§Ù„Ø­Ø§Ù„Ø©: 1 = Ø´ØºØ§Ù„ | 2 = Ù…Ø­Ø¸ÙˆØ± ÙˆÙ…Ø³Ø­ÙˆØ¨
    // deviceId: Ø§ØªØ±ÙƒÙ‡Ø§ "" Ù„ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ Ø£ÙŠ Ù‡Ø§ØªÙØŒ Ø£Ùˆ Ø¶Ø¹ Ø¨ØµÙ…Ø© Ù‡Ø§ØªÙ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ Ù‡Ø§ØªÙÙ‡ ÙÙ‚Ø·
    // ==========================================
    const subscriptionCodes = {
        // --- Ø£ÙƒÙˆØ§Ø¯ Ø£Ø³Ø¨ÙˆØ¹ÙŠØ© ---
        "WEEK-1111": { duration: "7days", status: 1, deviceId: "" },
        
        // --- Ø£ÙƒÙˆØ§Ø¯ Ø´Ù‡Ø±ÙŠØ© ---
        "MONTH-A1B2": { duration: "30days", status: 1, deviceId: "" },
        "MONTH-HACK": { duration: "30days", status: 2, deviceId: "" }, // âš ï¸ ÙƒÙˆØ¯ Ù…Ø­Ø¸ÙˆØ±

        // --- ÙƒÙˆØ¯ Ù…Ø±Ø¨ÙˆØ· Ø¨Ø¬Ù‡Ø§Ø² ÙˆØ§Ø­Ø¯ ÙÙ‚Ø· (Ù…Ø«Ø§Ù„) ---
        "VIP-STRICT": { duration: "30days", status: 1, deviceId: "a1b2c3d4e5f6" }, 

        // ==========================================
        // â¬‡ï¸ Ø£Ø¶Ù Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù‡Ù†Ø§ ÙÙŠ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ â¬‡ï¸
        // ==========================================
        
        "hamzazed123": { duration: "30days", status: 1, deviceId: "" },
        // "CODE-HERE-2": { duration: "60days", status: 1, deviceId: "" },
        // "CODE-HERE-3": { duration: "365days", status: 1, deviceId: "" },
        
        // ==========================================
    };

    // ==========================================
    // Ø£ÙˆØ§Ù…Ø± Ø§Ù„ÙØ­Øµ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    // ==========================================
    window.onload = function() {
        // ÙØ­Øµ Ø§Ù„ØªØ­Ø¯ÙŠØ«
        setTimeout(function() {
            window.location.href = "app://check_update?req_ver=" + REQUIRED_APP_VERSION + "&link=" + encodeURIComponent(DEVELOPER_LINK);
        }, 300);

        // ÙØ­Øµ Ø§Ù„Ø­Ø¸Ø± ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©
        const codeToCheck = urlParams.get('check_code');
        if (codeToCheck) {
            if (subscriptionCodes[codeToCheck] && subscriptionCodes[codeToCheck].status === 2) {
                setTimeout(function() {
                    // Ø£Ù…Ø± Ø§Ù„Ø·Ø±Ø¯ ÙˆØ¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù„ÙˆØ§ØªØ³Ø§Ø¨
                    window.location.href = "app://ban_user?link=" + encodeURIComponent(DEVELOPER_LINK);
                }, 600);
            }
        }
    };

    // ==========================================
    // Ù†Ø¸Ø§Ù… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ (Ù…Ø¹ ÙØ­Øµ Ø¨ØµÙ…Ø© Ø§Ù„Ù‡Ø§ØªÙ)
    // ==========================================
    function login() {
        const subCode = document.getElementById('subCode').value.trim();
        const codeData = subscriptionCodes[subCode];
        const errorDiv = document.getElementById('error');

        if (codeData) {
            if (codeData.status === 2) {
                errorDiv.innerText = "ØªÙ… Ø­Ø¸Ø± Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ù…Ø·ÙˆØ±! ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø¯Ø¹Ù….";
                errorDiv.style.display = 'block';
            } 
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¨ØµÙ…Ø© Ø§Ù„Ù‡Ø§ØªÙ (Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø·ÙˆØ± Ù‚Ø¯ Ø®ØµØµ Ø§Ù„ÙƒÙˆØ¯ Ù„Ù‡Ø§ØªÙ Ù…Ø¹ÙŠÙ†)
            else if (codeData.deviceId !== "" && codeData.deviceId !== appDeviceId) {
                errorDiv.innerText = "â›” Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯ Ù…Ø®ØµØµ Ù„Ù‡Ø§ØªÙ Ø¢Ø®Ø± ÙˆÙ„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ Ù‡Ù†Ø§!";
                errorDiv.style.display = 'block';
            }
            else if (codeData.status === 1) {
                // ØªÙØ¹ÙŠÙ„ Ù†Ø§Ø¬Ø­
                window.location.href = `index.html?status=success_auth_${codeData.duration}&code=${subCode}`;
            }
        } else {
            errorDiv.innerText = "Ø§Ù„ÙƒÙˆØ¯ ØºÙŠØ± ØµØ­ÙŠØ­ Ø£Ùˆ Ù…Ù†ØªÙ‡ÙŠ!";
            errorDiv.style.display = 'block';
        }
    }
</script>

</body>
</html>
